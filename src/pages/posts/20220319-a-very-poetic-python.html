<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<title>A very poetic Python üêç | Lef adores you ‚ù§Ô∏è</title>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/tufte.min.css"/>
</head>
<body>
    <a href="/">
        <img class="full-width" src="/media/00-common/lef_eyes_2021-06.jpg">
    </a>
    <img style="position: relative; opacity: 0; z-index: -9;" src="/media/00-common/lef_eyes_2021-06.jpg">
    <article>
        <section>
            <h1>A very poetic Python üêç</h1>
            <p>
                I have been using Python for all sorts of things in the past years. 
                Data science, music, scripting, automation, puzzle solving, web UI apps, 
                serverless apps and more.
                Yet throughout all this time I've constantly changed the ways in which I setup Python itself, 
                virtual environments for my projects, package managers and 
                all the peripherals of the POSIX world.
                <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="posix" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="posix" class="margin-toggle">
                <span class="sidenote marginnote">
                    <em>
                        Aliases, environment variables, shell scripts, dotfiles etc. 
                        Also, <a href="https://www.baeldung.com/linux/posix">here's a nice article about what POSIX is.</a>
                    </em>
                </span>
            </p>
            <p>
                Throughout my adventures in Python I've been blessed
                <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="blessing" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="blessing" class="margin-toggle">
                <span class="sidenote marginnote">
                    <em>
                        Unfounded opinion based on observing conversations around the Python community,
                        stale 10-year old Python answers on StackOverflow, a
                        <a href="https://pythonclock.org/" target="_blank" rel="noopener noreferrer">
                            countdown timer to Python2.7 end-of-life
                        </a> and more.
                    </em>
                </span> 
                to have never used a pre-Python3 version.
                Today I'm writing this post through a macOS device for which Apple has
                <a href="https://developer.apple.com/documentation/macos-release-notes/macos-12_3-release-notes#Python" target="_blank" rel="noopener noreferrer">
                    decided to drop support for Python2.7
                </a>
                <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="osx-12.3-soon" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="osx-12.3-soon" class="margin-toggle">
                <span class="sidenote marginnote">
                    <em>
                        I will actually update to macOS 12.3 Monterey through the writing of this post. ü§∑‚Äç‚ôÇÔ∏èü§û
                    </em>
                </span>
                by not including any version of Python at all,
                <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="python2-installation-path" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="python2-installation-path" class="margin-toggle">
                <span class="marginnote sidenote">
                    <em>
                        It used to be installed by default in macOS under 
                        <u>/usr/bin/python</u>
                        which was symlinked to the relevant binary under 
                        <u>/System/Library/Frameworks/Python.framework/</u>
                    </em>
                </span>
                effectively giving the user full control over how they wish to install Python.
            </p>
        </section>
        <section>
            <h2>And so it begins</h2>
            <p>
                Starting off with a test, I wanted to see if there is a <code>python</code>
                command left in my terminal and to my surprise there was.
                Seems like a symbolic link was left behind in <code>/usr/local/bin/python</code>, pointing to
                <code>/usr/bin/python3</code>.
                What was really odd though is that when I ran <code>python</code> I got a prompt from the system
                <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="python-cli-dev-tools" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="python-cli-dev-tools" class="margin-toggle">
                <span class="marginnote sidenote">
                    <img src="/media/20220319-a-very-poetic-python/xcode-python-cli-developer-tools-install.png">
                </span>
                telling me that I need to install the <em>command line developer tools</em> in order to run <code>python</code>.
                I'm like <em>whaaa? okay install I guess?</em> ü§∑‚Äç‚ôÇÔ∏è
            </p>
            <p>
                To nobody's surprise this did absolutely nothing.
                A short investigation led me to not much more than suspicion that 
                <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer"><em>brew</em></a>
                or some other little hack I had to do resulted in that symbolic link 
                <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="python-symlink" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="python-symlink" class="margin-toggle">
                <span class="marginnote sidenote">
                    <code>/usr/local/bin/python -> /usr/bin/python3</code>
                </span>
                and deleting it <label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="rm-python" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="rm-python" class="margin-toggle">
                <span class="marginnote sidenote">
                    <code>rm /usr/local/bin/python</code></br>
                    <em>Also did a </em><code>brew cleanup</code><em> just in case, but I got nothing relevant to report.</em>
                </span> 
                didn't seem to affect my system, so <em>hurray!</em>
            </p>
            <p>
                Now, of course you noticed that there is already a <em>Python</em> version installed in my system.
                <img src="/media/20220319-a-very-poetic-python/python3-version.png">
                That is because well I only updated my device to <em>macOS 12.3</em><label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="macOS-12-3-1" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="macOS-12-3-1" class="margin-toggle">
                <span class="marginnote sidenote">
                    <em>
                        Actually <u>12.3.1</u> as I'm writing this.
                        Yes, I had time to update my device but not to finish this blog post and the process of reinstalling Python.
                        Thanks for noticing.
                    </em>
                    ‚ù§Ô∏è
                </span>.
                I didn't get a fresh new OS install or device for that matter.
                Essentially, this means that my system will still have most of whatever dependencies it had before the update.
                Now, of course I could go on and completely purge <em>Python</em> for real<label class="sidenote-number"></label>
                <label id="margin-toggle-button" for="force-brew-uninstall" class="margin-toggle">‚äï</label>
                <input type="checkbox" id="force-brew-uninstall" class="margin-toggle">
                <span class="marginnote sidenote">
                    <img src="/media/20220319-a-very-poetic-python/brew-python-uninstall.png">
                    <em>
                        As in 
                    </em>
                    <code>brew uninstall --ignore-dependencies python</code>
                </span>
                but that would introduce more trouble than I'm willing to go through, I hope you understand.
            </p>
            <p>
                Testing one last thing before we continue, I recreated the symbolic link that we saw existed before
                and it seems to be triggering the same <em>command line developer tools</em> prompt.
                <img src="/media/20220319-a-very-poetic-python/python-recreating.png">
                Maybe something to report to <em>Apple</em>? Smells like a hardcoded thing to me.
            </p>

        </section>
        <section>
            <p>
                <code>
                    Work in progress! Come back for more later
                </code>
                ‚ù§Ô∏è
            </p>
            <blockquote>
                <h3>Update 1</h3>
                I managed to upgrade to 12.3 just fine, but I have yet to purge my Python setup.
            </blockquote>
            <blockquote>
                <h3>Update 2</h3>
                I finally got some time to continue, now I have purged most Python versions and their peripherals from my system.
                Almost fresh start! Almost too fresh, while deleting things I accidentally ran <code>rm -rf ~/Library/</code>
                instead of <code>rm -rf ~/Library/Python</code>. I realized it early and cancelled it 
                but I have no way to know if I deleted anything crucial...
                A restart will tell.</br>
            </blockquote>
            <blockquote>
                <h3>Update 3</h3>
                I managed to get some more progress on this post! ü•≥ </br>
                To be frank, I am using this post to document my progress in this task in real-time,
                but my procrastination brain enjoys getting distracted with other improvements
                on this personal blog. </br>
                <em>Two birds with one stone</em> you could argue! </br>
                Only if the stone was thrown from the surface of the moon and the birds are sitting
                on a tree on Earth. </br>
                Ah well, stay tuned! üëæ
            </blockquote>
        </section>
    </article>
    <footer><a href="/">Return home</a></footer>
</body>
</html>
